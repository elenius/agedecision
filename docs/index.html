<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bilaga: Beslutsanalys av medicinska åldersbedömningar inom asylprocessen • agedecision</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Bilaga: Beslutsanalys av medicinska åldersbedömningar inom asylprocessen">
<meta property="og:description" content="Beräkningar av resultat som ges i uppsatsen: Beslutsanalys av medicinska åldersbedömningar inom asylprocessen">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">agedecision</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/elenius/agedecision">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="contents col-md-9">
<div id="introduktion" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#introduktion" class="anchor"></a>Introduktion</h1></div>
<p>Detta R-paket utgör en bilaga till uppsatsen:</p>
<p><a href="http://www.diva-portal.org/">M. Elenius (2018). <em>Beslutsanalys av medicinska åldersbedömningar inom asylprocessen</em>.</a></p>
</div>
<div id="installation" class="section level1">
<h1 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h1>
<p>Observera ifall du använder Windows behöver du ha installerat <a href="https://cran.r-project.org/bin/windows/Rtools/">Rtools</a>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="cf">if</span> (<span class="op">!</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">require</a></span>(<span class="st">"devtools"</span>)) {
  <span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/install.packages">install.packages</a></span>(<span class="st">"devtools"</span>)
}
devtools<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/devtools/topics/install_github">install_github</a></span>(<span class="st">"elenius/agedecision"</span>, <span class="dt">dependencies =</span> <span class="ot">TRUE</span>)

<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(agedecision)</code></pre></div>
</div>
<div id="resultat" class="section level1">
<h1 class="hasAnchor">
<a href="#resultat" class="anchor"></a>Resultat</h1>
<p>Specificitet och sensitivitet i åldersintervallet från 15 till 21 år ges av:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(agedecision)
<span class="kw"><a href="reference/spec_sens_all.html">spec_sens_all</a></span>(<span class="dt">age.min =</span> <span class="dv">15</span>, <span class="dt">age.max =</span> <span class="dv">21</span>)
        method specificity sensitivity
<span class="dv">1</span>      Hand<span class="op">-</span><span class="dv">18</span>   <span class="fl">0.8396955</span>   <span class="fl">0.8397065</span>
<span class="dv">2</span>      Hand<span class="op">-</span><span class="dv">19</span>   <span class="fl">0.9196535</span>   <span class="fl">0.6129775</span>
<span class="dv">3</span>      Hand<span class="op">-</span><span class="dv">20</span>   <span class="fl">0.9563853</span>   <span class="fl">0.3975878</span>
<span class="dv">4</span>         Tand   <span class="fl">0.8413553</span>   <span class="fl">0.7501116</span>
<span class="dv">5</span>          Kna   <span class="fl">0.9707983</span>   <span class="fl">0.5028349</span>
<span class="dv">6</span>          RMV   <span class="fl">0.8569327</span>   <span class="fl">0.7937823</span>
<span class="dv">7</span> Singla slant   <span class="fl">0.5000000</span>   <span class="fl">0.5000000</span>
<span class="dv">8</span>         Barn   <span class="fl">1.0000000</span>   <span class="fl">0.0000000</span>
<span class="dv">9</span>        Vuxen   <span class="fl">0.0000000</span>   <span class="fl">1.0000000</span></code></pre></div>
<p>Andel som klassificeras som vuxna, både korrekt och felaktigt för samtliga metoder då prevalensen varieras från 0 till 1 i skalsteg om 0.01. Dessutom anges accuracy (andel korrekt klassificerade). Även specificitet och sensitivitet anges, även om dessa är oberoende av prevalensen. Åldersintervallet anges även här från 15 till 21 år.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dat &lt;-<span class="st"> </span><span class="kw"><a href="reference/classified_adults.html">classified_adults</a></span>(<span class="dt">by =</span> <span class="fl">0.01</span>, <span class="dt">age.min =</span> <span class="dv">15</span>, <span class="dt">age.max =</span> <span class="dv">21</span>)

<span class="co"># Resultat prevalens = 0.84</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/print.dataframe">print.data.frame</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/subset">subset</a></span>(dat, prevalence <span class="op">==</span><span class="st"> </span><span class="fl">0.84</span>), <span class="dt">row.names =</span> <span class="ot">FALSE</span>)
       method specificity sensitivity prevalence  accuracy
      Hand<span class="op">-</span><span class="dv">18</span>   <span class="fl">0.8396955</span>   <span class="fl">0.8397065</span>       <span class="fl">0.84</span> <span class="fl">0.8397048</span>
      Hand<span class="op">-</span><span class="dv">19</span>   <span class="fl">0.9196535</span>   <span class="fl">0.6129775</span>       <span class="fl">0.84</span> <span class="fl">0.6620456</span>
      Hand<span class="op">-</span><span class="dv">20</span>   <span class="fl">0.9563853</span>   <span class="fl">0.3975878</span>       <span class="fl">0.84</span> <span class="fl">0.4869954</span>
         Tand   <span class="fl">0.8413553</span>   <span class="fl">0.7501116</span>       <span class="fl">0.84</span> <span class="fl">0.7647106</span>
          Kna   <span class="fl">0.9707983</span>   <span class="fl">0.5028349</span>       <span class="fl">0.84</span> <span class="fl">0.5777091</span>
          RMV   <span class="fl">0.8569327</span>   <span class="fl">0.7937823</span>       <span class="fl">0.84</span> <span class="fl">0.8038864</span>
 Singla slant   <span class="fl">0.5000000</span>   <span class="fl">0.5000000</span>       <span class="fl">0.84</span> <span class="fl">0.5000000</span>
         Barn   <span class="fl">1.0000000</span>   <span class="fl">0.0000000</span>       <span class="fl">0.84</span> <span class="fl">0.1600000</span>
        Vuxen   <span class="fl">0.0000000</span>   <span class="fl">1.0000000</span>       <span class="fl">0.84</span> <span class="fl">0.8400000</span>
 classified_adults
         <span class="fl">0.7310022</span>
         <span class="fl">0.5277565</span>
         <span class="fl">0.3409521</span>
         <span class="fl">0.6554769</span>
         <span class="fl">0.4270536</span>
         <span class="fl">0.6896679</span>
         <span class="fl">0.5000000</span>
         <span class="fl">0.0000000</span>
         <span class="fl">1.0000000</span></code></pre></div>
<p>Beräkning av samtliga förväntade nyttor då nyttan för en felklassificerad vuxen och prevalensen varieras från 0 till 1 i skalsteg om 0.01, vilket ger upphov till 10 201 kombinationer för varje metod (9 st) och nyttofunktioner (2 st), vilket ger upphov till 183 618 olika resultat. Beräkningarna tar här ungefär en halv minut att utföra.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/system.time">system.time</a></span>(resultat &lt;-<span class="st"> </span><span class="kw"><a href="reference/eu_all_comb.html">eu_all_comb</a></span>(<span class="dt">by =</span> <span class="fl">0.01</span>, <span class="dt">age.min =</span> <span class="dv">15</span>, <span class="dt">age.max =</span> <span class="dv">21</span>))
   user  system elapsed 
 <span class="fl">37.825</span>   <span class="fl">0.518</span>  <span class="fl">42.437</span> 

<span class="co"># Antal rader = 10201 * 9 * 2</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/format">format</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/nrow">nrow</a></span>(resultat), <span class="dt">big.mark =</span> <span class="st">" "</span>)
[<span class="dv">1</span>] <span class="st">"183 618"</span>

<span class="co"># Resultat då Uvo = 0.5 och prevalens = 0.84</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/print.dataframe">print.data.frame</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/subset">subset</a></span>(resultat, uvo <span class="op">==</span><span class="st"> </span><span class="fl">0.5</span> <span class="op">&amp;</span><span class="st"> </span>prevalence <span class="op">==</span><span class="st"> </span><span class="fl">0.84</span>), <span class="dt">row.names =</span> <span class="ot">FALSE</span>)
         E prevalence uvo       method nyttomodell
 <span class="fl">0.9070280</span>       <span class="fl">0.84</span> <span class="fl">0.5</span>      Hand<span class="op">-</span><span class="dv">18</span>     diskret
 <span class="fl">0.9758323</span>       <span class="fl">0.84</span> <span class="fl">0.5</span>      Hand<span class="op">-</span><span class="dv">18</span>      linjär
 <span class="fl">0.8245951</span>       <span class="fl">0.84</span> <span class="fl">0.5</span>      Hand<span class="op">-</span><span class="dv">19</span>     diskret
 <span class="fl">0.9397635</span>       <span class="fl">0.84</span> <span class="fl">0.5</span>      Hand<span class="op">-</span><span class="dv">19</span>      linjär
 <span class="fl">0.7400085</span>       <span class="fl">0.84</span> <span class="fl">0.5</span>      Hand<span class="op">-</span><span class="dv">20</span>     diskret
 <span class="fl">0.8935275</span>       <span class="fl">0.84</span> <span class="fl">0.5</span>      Hand<span class="op">-</span><span class="dv">20</span>      linjär
 <span class="fl">0.8696637</span>       <span class="fl">0.84</span> <span class="fl">0.5</span>         Tand     diskret
 <span class="fl">0.9587507</span>       <span class="fl">0.84</span> <span class="fl">0.5</span>         Tand      linjär
 <span class="fl">0.7865184</span>       <span class="fl">0.84</span> <span class="fl">0.5</span>          Kna     diskret
 <span class="fl">0.9246053</span>       <span class="fl">0.84</span> <span class="fl">0.5</span>          Kna      linjär
 <span class="fl">0.8904978</span>       <span class="fl">0.84</span> <span class="fl">0.5</span>          RMV     diskret
 <span class="fl">0.9711486</span>       <span class="fl">0.84</span> <span class="fl">0.5</span>          RMV      linjär
 <span class="fl">0.7100000</span>       <span class="fl">0.84</span> <span class="fl">0.5</span> Singla slant     diskret
 <span class="fl">0.8550000</span>       <span class="fl">0.84</span> <span class="fl">0.5</span> Singla slant      linjär
 <span class="fl">0.5800000</span>       <span class="fl">0.84</span> <span class="fl">0.5</span>         Barn     diskret
 <span class="fl">0.7900000</span>       <span class="fl">0.84</span> <span class="fl">0.5</span>         Barn      linjär
 <span class="fl">0.8400000</span>       <span class="fl">0.84</span> <span class="fl">0.5</span>        Vuxen     diskret
 <span class="fl">0.9200000</span>       <span class="fl">0.84</span> <span class="fl">0.5</span>        Vuxen      linjär</code></pre></div>
</div>
<div id="funktioner-och-dataset" class="section level1">
<h1 class="hasAnchor">
<a href="#funktioner-och-dataset" class="anchor"></a>Funktioner och dataset</h1>
<p>Se dokumentationen för dataset och funktioner med hjälp av <code>?</code></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
<span class="co"># Dataset</span>
?tand <span class="co"># data för visdomstand</span>
?hand <span class="co"># data för handled</span>
?kna <span class="co"># data för knäled</span>
?logcoef <span class="co"># samtliga regressionskoefficienter</span>

<span class="co"># Täthetsfunktion (två likformiga fördelningar)</span>
?dunif2

<span class="co"># Sannolikhetsfunktioner</span>
?logistic_function <span class="co"># logistisk funktion</span>
?logistic_center <span class="co"># ger den centrerade åldern av en logistisk funktion</span>
?pM <span class="co"># listar samtliga sannolikhetsfunktioner</span>

<span class="co"># Nyttofunktioner</span>
?utility_discrete_adult 
?utility_discrete_child
?utility_linear_adult
?utility_linear_child

<span class="co"># Förväntad nytta</span>
?eu_i
?eu_all
?eu_all_comb

<span class="co"># Resultat specificitet, sensitivitet, accuracy, andel klassificerade vuxna</span>
?spec_sens
?spec_sens_all
?classified_adults</code></pre></div>
</div>
<div id="exempel-regressionsanalys" class="section level1">
<h1 class="hasAnchor">
<a href="#exempel-regressionsanalys" class="anchor"></a>Exempel regressionsanalys</h1>
<p>Resultatet av de regressionsanalyser som utförts ges av regressionskoefficienterna i datasetet <code><a href="reference/logcoef.html">?logcoef</a></code> och av sannolikhetsfunktionerna <code><a href="reference/pM.html">?pM</a></code>. Här visas exempel på hur regressionen går till för visdomstand och knäled. Se också <a href="https://github.com/elenius/agedecision/data-raw/datasets.R">data-raw/datasets.R</a> där datainläsning och regressionsanalyser görs för samtliga metoder.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Visdomstand (Simonsson m. fl. (2017))</span>
mod.tand &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/glm">glm</a></span>(<span class="dt">formula =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/cbind">cbind</a></span>(moget, omoget) <span class="op">~</span><span class="st"> </span>age, <span class="dt">family =</span> binomial, <span class="dt">data =</span> tand)
<span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/coef">coef</a></span>(mod.tand)
(Intercept)         age 
 <span class="op">-</span><span class="fl">19.903828</span>    <span class="fl">1.087887</span> 

<span class="co"># Knäled (Krämer m. fl. (2014), Saint-Martin m. fl. (2015))</span>
mod.kna &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/glm">glm</a></span>(<span class="dt">formula =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/cbind">cbind</a></span>(moget, omoget) <span class="op">~</span><span class="st"> </span>age, <span class="dt">family =</span> binomial, <span class="dt">data =</span> kna)
<span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/coef">coef</a></span>(mod.kna)
(Intercept)         age 
 <span class="op">-</span><span class="fl">26.707824</span>    <span class="fl">1.370405</span> </code></pre></div>
</div>
<div id="referens" class="section level1">
<h1 class="hasAnchor">
<a href="#referens" class="anchor"></a>Referens</h1>
<p>Om du använder programkoden, ange gärna nedanstående referens:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/citation">citation</a></span>(<span class="st">"agedecision"</span>)

  Mikael <span class="kw">Elenius</span> (<span class="dv">2018</span>). Beslutsanalys av medicinska
  åldersbedömningar inom asylprocessen. Magisteruppsats i Beslut<span class="op">-</span>,
  risk<span class="op">-</span><span class="st"> </span>och policyanalys. Högskolan i Gävle.

A BibTeX entry <span class="cf">for</span> LaTeX users is

  <span class="op">@</span>MastersThesis{,
    title =<span class="st"> </span>{{Beslutsanalys av medicinska åldersbedömningar inom asylprocessen}},
    author =<span class="st"> </span>{Mikael Elenius},
    year =<span class="st"> </span>{<span class="dv">2018</span>},
    school =<span class="st"> </span>{{Högskolan i Gävle}},
    url =<span class="st"> </span>{https<span class="op">:</span><span class="er">//</span>github.com<span class="op">/</span>elenius<span class="op">/</span>agedecision},
  }</code></pre></div>
</div>
  </div>

  <div class="col-md-3" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/elenius/agedecision">https://​github.com/​elenius/​agedecision</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>
<div class="citation">
<h2>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html">Citing agedecision</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Mikael Elenius <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p>Developed by Mikael Elenius.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.2.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
